<template>
  <!--<f7-page>-->
    <!--<f7-navbar>-->
      <!--<f7-nav-left>-->
        <!--<f7-link icon-if-ios="f7:menu" icon-if-md="material:menu" panel-open="left"></f7-link>-->
      <!--</f7-nav-left>-->
      <!--<f7-nav-title>My App</f7-nav-title>-->
      <!--<f7-nav-right>-->
        <!--<f7-link icon-if-ios="f7:menu" icon-if-md="material:menu" panel-open="right"></f7-link>-->
      <!--</f7-nav-right>-->
    <!--</f7-navbar>-->
    <!--<f7-toolbar>-->
      <!--<f7-link>Left Link</f7-link>-->
      <!--<f7-link>Right Link</f7-link>-->
    <!--</f7-toolbar>-->
    <!--<f7-block strong>-->
      <!--<p>Here is your blank Framework7 app. Let's see what we have here.</p>-->
    <!--</f7-block>-->
    <!--<f7-block-title>Navigation</f7-block-title>-->
    <!--<f7-list>-->
      <!--<f7-list-item link="/about/" title="About"></f7-list-item>-->
      <!--<f7-list-item link="/form/" title="Form"></f7-list-item>-->
    <!--</f7-list>-->
    <!--<f7-block-title>Modals</f7-block-title>-->
    <!--<f7-block strong>-->
      <!--<f7-row>-->
        <!--<f7-col width="50">-->
          <!--<f7-button fill raised popup-open="#popup">Popup</f7-button>-->
        <!--</f7-col>-->
        <!--<f7-col width="50">-->
          <!--<f7-button fill raised login-screen-open="#login-screen">Login Screen</f7-button>-->
        <!--</f7-col>-->
      <!--</f7-row>-->
    <!--</f7-block>-->
    <!--<f7-block-title>Panels</f7-block-title>-->
    <!--<f7-block strong>-->
      <!--<f7-row>-->
        <!--<f7-col width="50">-->
          <!--<f7-button fill raised panel-open="left">Left Panel</f7-button>-->
        <!--</f7-col>-->
        <!--<f7-col width="50">-->
          <!--<f7-button fill raised panel-open="right">Right Panel</f7-button>-->
        <!--</f7-col>-->
      <!--</f7-row>-->
    <!--</f7-block>-->
    <!--<f7-list>-->
      <!--<f7-list-item link="/dynamic-route/blog/45/post/125/?foo=bar#about" title="Dynamic Route"></f7-list-item>-->
      <!--<f7-list-item link="/load-something-that-doesnt-exist/" title="Default Route (404)"></f7-list-item>-->
    <!--</f7-list>-->

    <!--&lt;!&ndash;<p><span style="font-size: 14pt;" ><img class="content-scale-center" src="http://i0.pstatp.com/large/905f0008e80d8ae73ad5"  alt="达摩院这一年：科学家上山，新技术下海"></span></p>&ndash;&gt;-->

  <!--</f7-page>-->
  <f7-page>
    <div v-html='posts[0].content.rendered'></div>
  </f7-page>
</template>
<script>
  import mixin from "../mixin/mixin.js";

  export default {
    mixins: [mixin],
    data() {
      return {
        posts: [],
        msg: 'hello'
      }
    },
    beforeMount() {
      this.initData();
    },
    methods: {
      initData() {
        const wp = this.currWebsiteApi;
        // Promises
        let _this = this;
        wp.posts().perPage(4).page(1).then(function (data) {
          // do something with the returned posts

          data.forEach(function (d) {
            d.content.rendered = d.content.rendered.replace('<img', '<img class="content-scale-center"');
          });

          _this.posts = data;
          console.log(_this.posts);
        }).catch(function (err) {
          // handle error
          console.error(err);
        });
      },
      enter() {
        alert(this.msg);
      }
    },
    computed: {
      upper() {
        return this.msg.toUpperCase();
      }
    }
  }

  // export default {
  //   data() {
  //     return {
  //       posts:[]
  //     };
  //   },
  //   mounted() {
  //     var wp = new WPAPI({ endpoint: 'http://www.xinminnews.com/wp-json' });
  //     // Promises
  //     wp.posts().then(function( data ) {
  //       // do something with the returned posts
  //       debugger
  //       this.posts = data;
  //       console.log(this.posts);
  //     }).catch(function( err ) {
  //       // handle error
  //     });
  //   }
  // }
</script>
